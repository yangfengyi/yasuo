const r=window;class o{constructor(){this.errorInfo=void 0,this.errorInfo={}}globalError(){console.log("error: yasuo global error init"),r.onerror=function(r,o,e,n,t){const s=JSON.stringify({scriptURL:o,lineNum:e,colNum:n,error:t});return console.log(`[global error] ${r}`),console.log(s),!0}}networkError(){r.addEventListener("error",function(o){o.target!==r&&console.log(`网络错误 ${o.target}`),console.log(`网络错误 ${o.message}`)},!0)}promiseError(){r.addEventListener("unhandledrejection",function(r){return r.preventDefault(),console.log(`promise error ${r.reason}`),!0})}iframeError(){const o=r.frames;for(let r=0;r<o.length;r++)o[r].addEventListener("error",r=>{console.log(`iframe error event ${r}`)},!0),o[r].addEventListener("unhandledrejection",r=>{console.log(`iframe error event ${r}`)},!0)}run(){this.globalError(),this.networkError(),this.promiseError()}}class e{constructor(r){r.captureError&&(new o).run()}}export{e as default};
//# sourceMappingURL=yasuo.modern.js.map
